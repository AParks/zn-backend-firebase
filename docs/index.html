<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Home</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Home</h1>

    



    


    <h3> </h3>










    




    <section>
        <article><h1>Backend Firebase</h1><blockquote>
<p>Helper module for working with znFirebase in Zengine backend Plugins.</p>
</blockquote>
<p><a href="https://coveralls.io/github/ZengineHQ/zn-backend-firebase?branch=master"><img src="https://coveralls.io/repos/github/ZengineHQ/zn-backend-firebase/badge.svg?branch=master" alt="Coverage Status"></a>   <a href="https://circleci.com/gh/ZengineHQ/zn-backend-firebase/tree/master"><img src="https://circleci.com/gh/ZengineHQ/zn-backend-firebase/tree/master.svg?style=shield" alt="Build Status"></a> <a href="https://badge.fury.io/js/%40zenginehq%2Fbackend-firebase"><img src="https://badge.fury.io/js/%40zenginehq%2Fbackend-firebase.svg" alt="npm version"></a></p>
<h2>Installation</h2><pre class="prettyprint source lang-bash"><code>npm i @zenginehq/backend-firebase --save</code></pre><h2>Usage</h2><pre class="prettyprint source lang-js"><code>var $firebase = require('@zenginehq/backend-firebase')();

var workspaceId = 11111;

// Load data.
$firebase.load(workspaceId).then(function (data) {
  console.log('it works!', data);
  // data fetched from &lt;firebaseRoot>/11111
}).catch(function (err) {
  console.error(err);
});

// Save data.
var dataObj = {
  'childRoute': someData
  // someData could be any data type,
  // but dataObj (2nd argument of .save()) must be an object
}

$firebase.save(workspaceId, dataObj).then(function () {
  console.log('success!');
  // someData was saved at &lt;firebaseRoot>/11111/childRoute
}).catch(function (err) {
  console.error(err);
});

// Delete data.
var recordId = 222
var deleteObj = {}
deleteObj[recordId] = null

$firebase.save(workspaceId, deleteObj).then(function () {
  console.log('success!');
  // the firebase route &lt;firebaseRoot>/11111/222
  // and all data it contained has been deleted
}).catch(function (err) {
  console.error(err);
})

// Use arrays to formulate complex Firebase paths for both loading and saving.
var formId = 222
var recordId = 333

$firebase.load([workspaceId, formId, recordId, 'settings']).then(function (data) {
  // This will expand to: &lt;firebaseRoot>/11111/222/333/settings
  console.log('it works!', data);
}).catch(function (err) {
  console.error(err);
});

// You can also pass a long string if that's your thing.
$firebase.load('foo/bar/baz/' + workspaceId + '/etc');</code></pre><p><em>Note about Deletions</em></p>
<p>Passing <code>null</code> as the second argument of <code>.save</code> will cause strange and unhelpful behavior.
Instead, pass an object with the endpoint(s) as the key(s) and <code>null</code> as the value(s) for the second argument.
See <a href="https://www.firebase.com/docs/web/api/firebase/update.html">Firebase docs</a> for the underlying <code>.update()</code> command that is called.</p>
<p>Ex:</p>
<pre class="prettyprint source lang-js"><code>// much regrets
$firebase.save([workspaceId, 'undesiredField'], null).then(function () {
  //etc...
})

// all the good vibes
$firebase.save(workspaceId, {'undesiredField': null}).then(function () {
  // great work, team!
});</code></pre><h2>Contributing</h2><p>See <a href="CONTRIBUTING.md">contributing</a> doc</p>
<h2>API Docs</h2><p><a href="https://zenginehq.github.io/zn-backend-firebase">Full documentation</a></p></article>
    </section>






</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3><a href="global.html">Global</a></h3>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Thu Feb 07 2019 12:52:48 GMT+1100 (AEDT)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>